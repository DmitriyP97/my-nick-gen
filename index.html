<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7647223205847224"
     crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∏–∫–Ω–µ–π–º–æ–≤ –æ–Ω–ª–∞–π–Ω: –°–æ–∑–¥–∞—Ç—å –∫—Ä—É—Ç–æ–π –Ω–∏–∫ –∑–∞ 1 –∫–ª–∏–∫</title>
    <meta name="description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–∏–∫–æ–≤ –¥–ª—è –∏–≥—Ä –∏ —Å–æ—Ü—Å–µ—Ç–µ–π. –í—ã–±–∏—Ä–∞–π—Ç–µ –¥–ª–∏–Ω—É, —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏ —Ü–∏—Ñ—Ä—ã. –ë–æ–ª–µ–µ 10 000 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π!">
    <style>
        :root {
            --bg-body: #0f0f0f;
            --text-main: #e0e0e0;
            --bg-card: #1a1a1a;
            --border-card: #333;
            --shadow-card: 0 10px 30px rgba(0,0,0,0.8);
            --bg-element: #252525;
            --border-element: #444;
            --text-muted: #888;
            --text-label: #aaa;
            --bg-input: #121212;
            --text-input: #ffffff;
            --h1-color: #00d4ff;
            --text-on-accent: #000000;
        }
        [data-theme="light"] {
            --bg-body: #f0f2f5;
            --text-main: #333333;
            --bg-card: #ffffff;
            --border-card: #ddd;
            --shadow-card: 0 10px 30px rgba(0,0,0,0.1);
            --bg-element: #f8f9fa;
            --border-element: #ddd;
            --text-muted: #666;
            --text-label: #555;
            --bg-input: #ffffff;
            --text-input: #333333;
            --h1-color: #007bff;
            --text-on-accent: #ffffff;
        }

        body { font-family: 'Segoe UI', sans-serif; background: var(--bg-body); color: var(--text-main); margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; transition: background 0.3s, color 0.3s; }
        .card { background: var(--bg-card); padding: 20px; border-radius: 10px; box-shadow: var(--shadow-card); width: 100%; max-width: 500px; border: 1px solid var(--border-card); position: relative; z-index: 2; transition: background 0.3s, border-color 0.3s; }
        h1 { color: var(--h1-color); margin: 0px; font-size: 32px; text-align: center; }
        
        /* –ë–ª–æ–∫–∏ —Ä–µ–∫–ª–∞–º—ã */
        .ad-slot { width: 100%; max-width: 500px; background: var(--bg-element); margin: 15px 0; padding: 20px; border: 1px dashed var(--border-element); border-radius: 10px; color: var(--text-muted); font-size: 13px; text-align: center; box-sizing: border-box; }
        
        .control-group { text-align: left; margin-bottom: 12px; background: var(--bg-element); padding: 12px; border-radius: 10px; position: relative; }
        label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 13px; color: var(--text-label); }
        select, input[type="number"], input[type="text"] { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid var(--border-element); background: var(--bg-input); color: var(--text-input); box-sizing: border-box; }
        
        input:disabled {
            background-color: var(--bg-element);
            color: var(--text-muted);
            cursor: not-allowed;
        }

        .checkbox-group { display: flex; align-items: center; gap: 10px; cursor: pointer; font-size: 14px; user-select: none; }
        .checkbox-group input { 
            appearance: none; 
            -webkit-appearance: none; 
            width: 22px; 
            height: 22px; 
            background: var(--bg-input); 
            border: 1px solid var(--border-element); 
            border-radius: 6px; 
            cursor: pointer; 
            position: relative; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            transition: all 0.3s ease; 
            margin: 0; 
        }
        .checkbox-group input::after { content: ''; width: 5px; height: 10px; border: solid var(--text-on-accent); border-width: 0 2px 2px 0; transform: rotate(45deg) scale(0); transition: transform 0.2s ease; margin-top: -2px; }
        .checkbox-group input:checked { background: var(--h1-color); border-color: var(--h1-color); box-shadow: 0 0 10px var(--h1-color); }
        .checkbox-group input:checked::after { transform: rotate(45deg) scale(1); }
        .checkbox-group:hover input { border-color: var(--h1-color); }
        .checkbox-group input:disabled { opacity: 0.5; box-shadow: none; cursor: not-allowed; }
        
        .display-container { display: flex; align-items: center; gap: 10px; margin: 20px 0px; }
        #nickname-display { font-size: 30px; font-weight: bold; color: #00ffaa; background: #000; padding: 20px; border-radius: 10px; min-height: 40px; border: 1px solid #00ffaa; text-shadow: 0 0 10px rgba(0,255,170,0.3); flex-grow: 1; margin: 0; }
        
        button { width: 100%; background: linear-gradient(45deg, #00d4ff, #0055ff); color: white; border: none; padding: 18px; font-size: 18px; border-radius: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        button:hover { transform: scale(1.02); box-shadow: 0 5px 15px rgba(0,85,255,0.4); }
        #generate-btn:active { transform: scale(0.95); box-shadow: 0 2px 5px rgba(0,85,255,0.2); transition: 0.1s; }
        
        #copy-btn { display: none; width: auto; background: #007bff; padding: 12px 18px; font-size: 14px; transition: all 0.3s ease; white-space: nowrap; overflow: hidden; }
        #copy-btn:hover { transform: none; box-shadow: none; background: #0056b3; }
        #copy-btn:active { transform: scale(0.95); }

        .theme-btn { position: absolute; top: 20px; right: 20px; background: var(--bg-element); color: var(--text-main); border: 1px solid var(--border-element); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; padding: 0; box-shadow: 0 2px 10px rgba(0,0,0,0.2); cursor: pointer; z-index: 100; transition: 0.3s; }
        .theme-btn:hover { transform: scale(1.1); }

        #add-to-favorites-btn { display: none; width: auto; background: transparent; border: none; padding: 8px; cursor: pointer; transition: transform 0.2s; }
        #add-to-favorites-btn:hover { transform: scale(1.1); box-shadow: none; }
        #add-to-favorites-btn svg {
            width: 28px;
            height: 28px;
            stroke: var(--text-muted);
            fill: none;
            transition: all 0.2s ease-in-out;
        }
        #add-to-favorites-btn.is-favorite svg {
            fill: #ffc107;
            stroke: #ffc107;
        }
        #favorites-list { list-style: none; padding: 0; margin: 0; }
        .favorite-item { display: flex; justify-content: space-between; align-items: center; background: var(--bg-input); padding: 10px; border-radius: 5px; margin-bottom: 8px; border: 1px solid var(--border-element); }
        .favorite-item span { flex-grow: 1; margin-right: 10px; }
        .favorite-item .btn-group { display: flex; gap: 5px; }
        .favorite-item .btn-group button { width: auto; padding: 5px 10px; font-size: 12px; margin-left: 0; transition: all 0.3s ease; white-space: nowrap; overflow: hidden; }
        .fav-copy-btn { background: #007bff; }
        .fav-copy-btn:active { transform: scale(0.95); }
        .fav-remove-btn { background: #dc3545; }

        .affiliate-link { margin-top: 20px; display: block; color: #ff9900; text-decoration: none; font-weight: bold; font-size: 14px; border: 1px solid #ff9900; padding: 10px; border-radius: 8px; transition: 0.3s; }
        .affiliate-link:hover { background: #ff9900; color: #000; }
        .error { color: #ff4d4d; font-size: 12px; margin-top: 5px; display: none; }

        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.5); filter: blur(5px); }
            100% { opacity: 1; transform: scale(1); filter: blur(0); }
        }
        .animate-pop { animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        
        @keyframes starPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.5) rotate(15deg); }
            100% { transform: scale(1) rotate(0); }
        }
        @keyframes starShrink {
            0% { transform: scale(1); }
            50% { transform: scale(0.8) rotate(-10deg); }
            100% { transform: scale(1) rotate(0); }
        }
        #add-to-favorites-btn.anim-add svg { animation: starPulse 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        #add-to-favorites-btn.anim-remove svg { animation: starShrink 0.3s ease-out; }

        @keyframes copySuccess {
            0% { transform: scale(1); box-shadow: inset 0 0 0 0 #28a745; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); box-shadow: inset 0 0 0 1000px #28a745; }
        }
        .copy-success { animation: copySuccess 0.3s ease-in-out forwards; }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π */
        .disabled-state { opacity: 0.5; cursor: not-allowed; }
        .disabled-state * { pointer-events: none; }
        .disabled-state::after {
            content: "–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è '–¢–æ–ª—å–∫–æ –¥–≤–∞ —Å–ª–æ–≤–∞'";
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            color: var(--text-main);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            border: 1px solid var(--border-element);
            opacity: 0;
            visibility: hidden;
            transition: 0.2s;
            pointer-events: none;
            z-index: 100;
            margin-bottom: 5px;
        }
        .disabled-state:hover::after { opacity: 1; visibility: visible; }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 600px) {
            body { padding: 10px; }
            .card { padding: 15px; }
            h1 { font-size: 22px; word-wrap: break-word; }
            .theme-btn { top: 10px; right: 10px; width: 35px; height: 35px; font-size: 18px; }
            
            .display-container { flex-direction: column; align-items: stretch; gap: 10px; }
            #nickname-display { font-size: 24px; text-align: center; width: auto; box-sizing: border-box; }
            #copy-btn, #add-to-favorites-btn { width: 100%; margin: 0; }
            
            .favorite-item { flex-direction: column; gap: 10px; text-align: center; }
            .favorite-item span { margin-right: 0; margin-bottom: 5px; word-break: break-all; }
            .favorite-item .btn-group { width: 100%; display: flex; gap: 5px; }
            .favorite-item .btn-group button { flex: 1; }

            .control-group { padding: 10px; }
            input, select, button { font-size: 16px; } /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑—É–º –Ω–∞ iOS –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ */
            .nav-container { top: 10px; left: 10px; }
        }

        /* Navigation Styles */
        .nav-container { position: fixed; top: 20px; left: 20px; z-index: 1000; }
        .nav-menu { background: var(--bg-card); border: 1px solid var(--border-card); border-radius: 10px; padding: 10px; display: none; flex-direction: column; gap: 8px; box-shadow: var(--shadow-card); width: 220px; transition: all 0.3s ease; position: absolute; top: 50px; left: 0; }
        .nav-menu.show { display: flex; animation: popIn 0.2s forwards; }
        .nav-link { text-decoration: none; color: var(--text-main); padding: 10px; border-radius: 5px; transition: background 0.2s; display: block; font-size: 14px; }
        .nav-link:hover { background: var(--bg-element); }
        .nav-link.active { background: var(--h1-color); color: var(--text-on-accent); font-weight: bold; }
        .nav-toggle { display: flex; align-items: center; justify-content: center; height: 40px; background: var(--bg-element); color: var(--text-main); border: 1px solid var(--border-element); padding: 0 15px; border-radius: 20px; cursor: pointer; font-size: 14px; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        
        @media (max-width: 600px) {
            .nav-container { top: 10px; left: 10px; }
            .nav-toggle { height: 35px; }
            .nav-menu { top: 45px; }
        }
    </style>
</head>
<body>

    <button class="theme-btn" onclick="toggleTheme()" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">üåì</button>

    <div class="nav-container">
        <button class="nav-toggle" onclick="toggleNav()">‚ò∞ –ú–µ–Ω—é</button>
        <nav class="nav-menu" id="nav-menu">
            <a href="./" class="nav-link active">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∏–∫–Ω–µ–π–º–æ–≤</a>
            <a href="./magic-8-ball/" class="nav-link">–®–∞—Ä-–æ—Ç–≤–µ—Ç—á–∏–∫</a>
            <a href="./project-ai/" class="nav-link">Project AI (–ê—é–º—É)</a>
        </nav>
    </div>

    <div class="ad-slot">
        <p>–†–ï–ö–õ–ê–ú–ê: –ö—É–ø–∏—Ç—å –∏–≥—Ä–æ–≤—ã–µ —Å–∫–∏–Ω—ã –∏–ª–∏ VPN</p>
        </div>

    <div class="card">
        <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∏–∫–Ω–µ–π–º–æ–≤</h1>

        <div class="display-container">
            <div id="nickname-display">–ù–∞–∂–º–∏ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</div>
            <button id="copy-btn" onclick="copyNickname()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <button id="add-to-favorites-btn" onclick="toggleFavorite()" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
            </button>
        </div>

        <div class="control-group">
            <label>–°—Ç—Ä—É–∫—Ç—É—Ä–∞:</label>
            <select id="structure">
                <option value="word_word_num">–°–ª–æ–≤–æ + –°–ª–æ–≤–æ + –ß–∏—Å–ª–æ</option>
                <option value="word_num">–û–¥–Ω–æ —Å–ª–æ–≤–æ + –ß–∏—Å–ª–æ</option>
                <option value="word_word">–¢–æ–ª—å–∫–æ –¥–≤–∞ —Å–ª–æ–≤–∞</option>
            </select>
        </div>

        <div class="control-group" id="custom-num-wrapper">
            <label class="checkbox-group">
                <input type="checkbox" id="custom-num-toggle" onchange="document.getElementById('custom-num').disabled = !this.checked"> 
                –°–≤–æ–∏ —Ü–∏—Ñ—Ä—ã
            </label>
            <input type="text" id="custom-num" placeholder="–ü—Ä–∏–º–µ—Ä: 2001" disabled maxlength="4">
            <div id="num-error" class="error" style="display:none;"></div>
        </div>

        <div class="control-group">
            <label>–î–ª–∏–Ω–∞ (6-14 —Å–∏–º–≤–æ–ª–æ–≤):</label>
            <input type="number" id="length-limit" placeholder="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏" min="6" max="14">
            <div id="length-error" class="error">–û—à–∏–±–∫–∞: –¥–ª–∏–Ω–∞ –æ—Ç 6 –¥–æ 14!</div>
        </div>

        <button id="generate-btn" onclick="generateNickname()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>

        <a href="https://www.reg.ru/domain/new/" target="_blank" id="domain-link" class="affiliate-link">
            üîó –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–æ–º–µ–Ω–∞ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∏–∫–∞
        </a>
    </div>

    <div id="favorites-card" class="card" style="display: none; margin-top: 20px;">
        <h2>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
        <ul id="favorites-list"></ul>
    </div>

    <div class="ad-slot">
        <p>–†–ï–ö–õ–ê–ú–ê: –õ—É—á—à–∏–µ –∏–≥—Ä–æ–≤—ã–µ –Ω–æ—É—Ç–±—É–∫–∏ 2026</p>
        </div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        renderFavorites();
    });

    function toggleNav() {
        const menu = document.getElementById('nav-menu');
        menu.classList.toggle('show');
    }
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
    document.addEventListener('click', (e) => {
        const container = document.querySelector('.nav-container');
        if (!container.contains(e.target)) {
            document.getElementById('nav-menu').classList.remove('show');
        }
    });

    // –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
    function toggleTheme() {
        const body = document.body;
        const currentTheme = body.getAttribute('data-theme');
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        
        if (newTheme === 'light') body.setAttribute('data-theme', 'light');
        else body.removeAttribute('data-theme');
        
        localStorage.setItem('theme', newTheme);
    }
    if (localStorage.getItem('theme') === 'light') document.body.setAttribute('data-theme', 'light');
    
    let favorites = JSON.parse(localStorage.getItem('favoriteNicknames')) || [];

    const prefixes = ["Dark", "Ultra", "Cyber", "Neo", "Mega", "Shadow", "Alpha", "Iron", "Void", "Swift", "Frost", "Magma", "Zenith", "Blaze", "Chaos", "Ghost", "Viper", "Storm", "Titan", "Rogue", "Elite", "Prime", "Night", "Flash", "Global", "Cobra", "Aero", "Wild", "Mistic", "Frozen", "Liquid", "Solar", "Lunar", "Ozone", "Vector", "Silent", "Hidden", "Mad", "Rage", "Acid", "Toxic", "Noble", "Steel", "Grim", "Velvet", "Amber", "Turbo", "Hyper", "Astral", "Atomic", "Aura", "Azure", "Bane", "Beast", "Black", "Blood", "Blue", "Bold", "Bone", "Brave", "Bright", "Brutal", "Bullet", "Burning", "Cinder", "Cloud", "Cold", "Comet", "Cosmic", "Crimson", "Crystal", "Cursed", "Dead", "Death", "Deep", "Delta", "Demon", "Desert", "Diamond", "Divine", "Doom", "Dragon", "Dream", "Dust", "Echo", "Electric", "Ember", "Emerald", "Epic", "Eternal", "Evil", "Fallen", "Fatal", "Fear", "Feral", "Fierce", "Fire", "Flame", "Force", "Forest", "Gold", "Grand", "Gray", "Green", "Hacker", "Halo", "Hard", "Heavy", "Hell", "Holy", "Ice", "Inferno", "Infinity", "Jade", "Jungle", "Killer", "Light", "Lightning", "Lion", "Lost", "Magic", "Master", "Metal", "Mist", "Moon", "Mountain", "Mystic", "Neon", "Noble", "Nova", "Ocean", "Omega", "Oracle", "Phantom", "Phoenix", "Plasma", "Power", "Pure", "Quantum", "Quartz", "Quick", "Quiet", "Radar", "Rain", "Rapid", "Razor", "Red", "Relentless", "Rift", "Rocket", "Royal", "Savage", "Scarlet", "Secret", "Silver", "Skull", "Sky", "Smoke", "Snow", "Sonic", "Soul", "Space", "Spark", "Specter", "Spider", "Spirit", "Star", "Static", "Steam", "Stone", "Sun", "Super", "Thunder", "Tiger", "Total", "Tough", "Triple", "True", "Ultimate", "Under", "Vampire", "Veloc", "Venom", "Volt", "Vortex", "White", "Wicked", "Winter", "Wolf", "Xenon", "Yellow", "Zero"];
    const suffixes = ["Killer", "Hunter", "Warrior", "Lord", "Ghost", "Knight", "Zero", "Storm", "Viper", "Wolf", "Demon", "Angel", "King", "Beast", "Dragon", "Slayer", "Blade", "Rex", "Rider", "Walker", "Watcher", "Seeker", "Punk", "Soul", "Spirit", "Brave", "Eagle", "Falcon", "Hawk", "Raven", "Sniper", "Savage", "Talon", "Vortex", "Wanderer", "X", "Y", "Z", "Master", "Wizard", "Ninja", "Samurai", "Hacker", "Chief", "Captain", "General", "Saint", "Mayor", "Hero", "Enemy", "Ace", "Agent", "Archer", "Assassin", "Bandit", "Baron", "Bishop", "Boss", "Boy", "Brute", "Caster", "Champ", "Commander", "Cook", "Crawler", "Crusher", "Czar", "Dancer", "Defender", "Destroyer", "Devil", "Doctor", "Duke", "Eater", "Edge", "Emperor", "Expert", "Fighter", "Fish", "Fist", "Freak", "Giant", "Gladiator", "Gnat", "God", "Golem", "Goon", "Guard", "Gunner", "Guy", "Hammer", "Hand", "Head", "Heart", "Host", "Hulk", "Jack", "Jester", "Judge", "Justice", "Keeper", "Kid", "Legend", "Lich", "Machine", "Mage", "Magician", "Major", "Maker", "Marine", "Marshal", "Maverick", "Mechanic", "Merc", "Merchant", "Minion", "Monster", "Mummy", "Mutant", "Mystery", "Nomad", "Officer", "Ogre", "Outlaw", "Overlord", "Paladin", "Panther", "Patriot", "Pest", "Pilot", "Pirate", "Player", "Prince", "Prophet", "Queen", "Ranger", "Rebel", "Reaper", "Ripper", "Runner", "Sage", "Scout", "Sentinel", "Serpent", "Shadow", "Shaman", "Shark", "Shield", "Shooter", "Soldier", "Sorcerer", "Stalker", "Striker", "Tank", "Templar", "Terror", "Thief", "Thug", "Troll", "Tyrant", "Vandal", "Viking", "Villain", "Vulture", "Warlock", "Witch", "Wraith", "Zealot", "Zombie"];

    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ —Ü–∏—Ñ—Ä
    document.getElementById('custom-num').addEventListener('input', function() {
        if (/[^0-9]/.test(this.value)) {
            this.value = this.value.replace(/[^0-9]/g, '');
            const error = document.getElementById('num-error');
            error.innerText = "–ú–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã!";
            error.style.display = 'block';
            setTimeout(() => { error.style.display = 'none'; }, 2000);
        }
    });

    // –õ–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ "–°–≤–æ–∏ —Ü–∏—Ñ—Ä—ã"
    const structureSelect = document.getElementById('structure');
    const customNumWrapper = document.getElementById('custom-num-wrapper');
    const customNumToggle = document.getElementById('custom-num-toggle');
    const customNumInput = document.getElementById('custom-num');

    function updateCustomNumState() {
        if (structureSelect.value === 'word_word') {
            customNumToggle.checked = false;
            customNumToggle.disabled = true;
            customNumInput.disabled = true;
            customNumWrapper.classList.add('disabled-state');
        } else {
            customNumToggle.disabled = false;
            customNumInput.disabled = !customNumToggle.checked;
            customNumWrapper.classList.remove('disabled-state');
        }
    }
    structureSelect.addEventListener('change', updateCustomNumState);

    function toggleFavorite() {
        const nicknameDisplay = document.getElementById('nickname-display');
        const nickname = nicknameDisplay.innerText;
        const favBtn = document.getElementById('add-to-favorites-btn');

        if (!nickname || nickname === "–ù–∞–∂–º–∏ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å") return;

        const isFavorite = favorites.includes(nickname);

        if (isFavorite) {
            favorites = favorites.filter(fav => fav !== nickname);
            favBtn.classList.remove('is-favorite');
            favBtn.classList.remove('anim-add');
            favBtn.classList.add('anim-remove');
        } else {
            favorites.push(nickname);
            favBtn.classList.add('is-favorite');
            favBtn.classList.remove('anim-remove');
            favBtn.classList.add('anim-add');
        }
        localStorage.setItem('favoriteNicknames', JSON.stringify(favorites));
        renderFavorites();
    }

    function removeFromFavorites(nickname) {
        favorites = favorites.filter(fav => fav !== nickname);
        localStorage.setItem('favoriteNicknames', JSON.stringify(favorites));
        renderFavorites();
        if (document.getElementById('nickname-display').innerText === nickname) {
            const favBtn = document.getElementById('add-to-favorites-btn');
            favBtn.classList.remove('is-favorite');
            favBtn.classList.remove('anim-add');
            favBtn.classList.add('anim-remove');
        }
    }

    function animateButtonRevert(btn, originalText) {
        // –§–∏–∫—Å–∏—Ä—É–µ–º —à–∏—Ä–∏–Ω—É –ø–µ—Ä–µ–¥ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞
        btn.style.width = btn.offsetWidth + 'px';
        btn.style.color = 'transparent';

        setTimeout(() => {
            btn.classList.remove('copy-success');
            btn.innerText = originalText;

            // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—É—é —à–∏—Ä–∏–Ω—É (—Ç—Ä—é–∫ —Å auto)
            const currentFixed = btn.style.width;
            btn.style.width = 'auto';
            const targetWidth = btn.offsetWidth;
            btn.style.width = currentFixed;

            // –§–æ—Ä—Å–∏—Ä—É–µ–º –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É
            void btn.offsetWidth;

            // –ê–Ω–∏–º–∏—Ä—É–µ–º –∫ –Ω–æ–≤–æ–π —à–∏—Ä–∏–Ω–µ
            btn.style.width = targetWidth + 'px';
            btn.style.color = '';

            setTimeout(() => { btn.style.width = ''; }, 300);
        }, 300);
    }

    function copyFavorite(nickname, btn) {
        navigator.clipboard.writeText(nickname).then(() => {
            if (btn.classList.contains('copy-success')) return;
            const originalText = "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å";
            btn.innerText = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
            btn.classList.add('copy-success');
            setTimeout(() => animateButtonRevert(btn, originalText), 2000);
        }).catch(err => console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å: ', err));
    }

    function renderFavorites() {
        const favoritesList = document.getElementById('favorites-list');
        const favoritesCard = document.getElementById('favorites-card');
        favoritesList.innerHTML = '';

        if (favorites.length === 0) {
            favoritesCard.style.display = 'none';
            return;
        }
        favoritesCard.style.display = 'block';

        favorites.forEach(nickname => {
            favoritesList.insertAdjacentHTML('beforeend', `
                <li class="favorite-item">
                    <span>${nickname}</span>
                    <div class="btn-group">
                        <button class="fav-copy-btn" onclick="copyFavorite('${nickname}', this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="fav-remove-btn" onclick="removeFromFavorites('${nickname}')">–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                </li>`);
        });
    }

    function copyNickname() {
        const nicknameDisplay = document.getElementById('nickname-display');
        const nickname = nicknameDisplay.innerText;
        const copyBtn = document.getElementById('copy-btn');

        if (nickname && nickname !== "–ù–∞–∂–º–∏ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å") {
            navigator.clipboard.writeText(nickname).then(() => {
                if (copyBtn.classList.contains('copy-success')) return;
                copyBtn.innerText = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                copyBtn.classList.add('copy-success');
                setTimeout(() => animateButtonRevert(copyBtn, '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å'), 2000);
            }).catch(err => {
                console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å: ', err);
            });
        }
    }

    function generateNickname() {
        const struct = document.getElementById('structure').value;
        const useNum = document.getElementById('custom-num-toggle').checked;
        const customNum = document.getElementById('custom-num').value;
        const lengthInput = document.getElementById('length-limit').value;
        const error = document.getElementById('length-error');
        
        let lengthLimit = lengthInput ? parseInt(lengthInput) : null;

        if (lengthLimit && (lengthLimit < 6 || lengthLimit > 14)) {
            error.style.display = 'block';
            return;
        } else {
            error.style.display = 'none';
        }

        let p = prefixes[Math.floor(Math.random() * prefixes.length)];
        let s = suffixes[Math.floor(Math.random() * suffixes.length)];
        let num = "";

        if (struct.includes("num")) {
            num = useNum && customNum ? customNum : Math.floor(Math.random() * 99).toString();
        }

        let finalNick = "";
        if (lengthLimit) {
            finalNick = adjustLength(struct, p, s, num, lengthLimit);
        } else {
            if (struct === "word_num") finalNick = p + num;
            else if (struct === "word_word") finalNick = p + s;
            else finalNick = p + s + num;
        }

        const display = document.getElementById('nickname-display');
        display.innerText = finalNick;
        display.classList.remove('animate-pop');
        void display.offsetWidth; // –¢—Ä–∏–≥–≥–µ—Ä –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
        display.classList.add('animate-pop');
        
        const favBtn = document.getElementById('add-to-favorites-btn');
        document.getElementById('copy-btn').style.display = 'block';
        favBtn.style.display = 'block';

        if (favorites.includes(finalNick)) {
            favBtn.classList.add('is-favorite');
        } else {
            favBtn.classList.remove('is-favorite');
        }
        favBtn.classList.remove('anim-add', 'anim-remove');
        
        const domainUrl = "https://www.reg.ru/buy/domains/?query=" + finalNick;
        document.getElementById('domain-link').href = domainUrl;
        document.getElementById('domain-link').innerText = `üîó –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–º–µ–Ω ${finalNick}.com`;
    }

    function adjustLength(struct, p, s, num, limit) {
        let initialNick;
        // –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–µ–º –Ω–∏–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
        if (struct === "word_num") {
            initialNick = p + num;
        } else if (struct === "word_word") {
            initialNick = p + s;
        } else { // word_word_num
            initialNick = p + s + num;
        }

        // –ï—Å–ª–∏ –Ω–∏–∫ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π, —É–∫–æ—Ä–∞—á–∏–≤–∞–µ–º –µ–≥–æ
        if (initialNick.length > limit) {
            if (struct === "word_num") {
                let pCut = p.substring(0, limit - num.length);
                return pCut + num;
            } 
            
            let targetWordsLen = limit - num.length;
            if (targetWordsLen < 2) targetWordsLen = 2;

            if (struct === "word_word" || struct === "word_word_num") {
                let partLen = Math.floor(targetWordsLen / 2);
                let pCut = p.substring(0, partLen);
                let sCut = s.substring(0, targetWordsLen - pCut.length);
                return pCut + sCut + num;
            }
            return (p + s + num).substring(0, limit); // –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
        } 
        // –ï—Å–ª–∏ –Ω–∏–∫ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π, –¥–æ–ø–æ–ª–Ω—è–µ–º –µ–≥–æ
        else if (initialNick.length < limit) {
            let charsToAdd = limit - initialNick.length;
            let result = initialNick.split('');
            const allowNumbersForPadding = struct.includes('num');
            const specialChars = ['_', '.'];

            for (let i = 0; i < charsToAdd; i++) {
                let charToInsert = allowNumbersForPadding && Math.random() > 0.5 ? Math.floor(Math.random() * 10).toString() : specialChars[Math.floor(Math.random() * specialChars.length)];
                const insertPos = Math.floor(Math.random() * (result.length + 1));
                result.splice(insertPos, 0, charToInsert);
            }
            return result.join('');
        } 
        // –ï—Å–ª–∏ –¥–ª–∏–Ω–∞ –∏–¥–µ–∞–ª—å–Ω–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
        else {
            return initialNick;
        }
    }
</script>
</body>
</html>